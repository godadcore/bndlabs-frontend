<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>Blog — bndlabs</title>
<meta name="description" content="A blog article by bndlabs.">
<link rel="icon" type="image/png" href="favicon.png">
<meta name="theme-color" content="#FF4D00">
<style>
  :root{
    --primary:#FF4D00;
    --primary-2:#FF8C00;
    --primary-gradient:linear-gradient(120deg,#FF4D00,#FF8C00);
    --light-bg:#FFFFFF;
    --light-text:#0B0B0B;
    --light-muted:rgba(11,11,11,0.70);
    --light-faint:rgba(11,11,11,0.55);
    --alt:#f6f3ef;
    --max-width:1100px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0}
  body{
    font-family:"SF Pro Text",-apple-system,BlinkMacSystemFont,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
    background:var(--light-bg);color:var(--light-text);line-height:1.75;-webkit-font-smoothing:antialiased;
  }
  img{max-width:100%;display:block;border-radius:12px}
  a{color:inherit;text-decoration:none}
  .container{max-width:var(--max-width);margin:0 auto;padding:0 36px}

  /* HEADER */
  header{height:64px;display:flex;align-items:center;justify-content:space-between;position:fixed;top:0;left:0;right:0;z-index:2000;background:rgba(0,0,0,0.92);backdrop-filter:blur(10px);color:#fff;padding:12px 24px;border-bottom:1px solid rgba(255,255,255,0.06)}
  .brand{display:flex;align-items:center;gap:10px}
  .logo svg{width:36px;height:36px;fill:#fff}
  .brand .name{font-weight:700;font-size:18px;color:#fff}
  .nav{display:none}
  .nav.active{display:flex;flex-direction:column;align-items:flex-end;position:absolute;top:64px;right:16px;width:220px;background:rgba(20,20,20,0.92);backdrop-filter:blur(10px);border-radius:20px;padding:12px 10px;gap:10px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
  .nav a{background:rgba(255,255,255,.08);color:#fff;padding:12px 0;border-radius:999px;width:100%;text-align:center;font-weight:500;transition:.2s}
  .nav a:hover{background:rgba(255,255,255,.18);transform:translateY(-1px)}
  .nav a.active{background:var(--primary-gradient);color:#fff;font-weight:700}
  .cta{padding:10px 14px;border-radius:10px;background:#fff;color:#000;font-weight:700;border:0;cursor:pointer}
  .menu-toggle{display:block;background:transparent;border:0;color:#fff;font-size:22px;cursor:pointer}
  .body-offset{padding-top:86px;}

  /* HERO (updated layout) */
 .hero{padding:24px 0 12px;text-align:left}

.post-meta{
  display:flex;
  justify-content:flex-start;   /* was center */
  align-items:center;
  flex-wrap:wrap;
  gap:10px;
  color:var(--light-faint);
  font-size:14px;
}

/* author chip */
.post-meta .author{display:flex;align-items:center;gap:8px}
.post-meta .author img{
  width:34px;height:34px;border-radius:50%;
  object-fit:cover;border:2px solid rgba(0,0,0,0.05);
}


  /* ARTICLE */
  .article{padding:18px 0 32px}
  .article h2{font-size:24px;margin:28px 0 10px;font-family:"SF Pro Display",-apple-system,BlinkMacSystemFont,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;text-align:left}
  .article p{color:var(--light-muted);margin:10px 0}
  .article .illustration{margin:18px 0}
  .article .illustration img{width:100%;height:auto;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08)}

  /* RECENT */
  .recent{padding:28px 0 6px;border-top:1px solid rgba(0,0,0,.06);margin-top:18px}
  .recent h3{margin:0 0 12px;font-size:18px;letter-spacing:.2px}
  .recent-list{list-style:none;padding:0;margin:0;display:grid;gap:8px}
  .recent-list a{text-decoration:underline;text-underline-offset:3px;color:var(--light-text);transition:filter .2s ease, text-shadow .2s ease}
  .recent-list a:hover{text-shadow:0 0 10px rgba(255,77,0,.55), 0 0 2px rgba(255,77,0,.8)}

  /* FOOTER */
  footer{background:#f6f3ef;color:var(--light-faint);padding:20px;margin-top:40px}
  .footer-inner{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;text-align:center}
  .footer-left{font-size:14px}
  .footer-nav{display:flex;gap:14px;flex-wrap:wrap;justify-content:center}
  .footer-nav a{color:var(--light-faint);font-size:14px;text-transform:capitalize}
  .socials{display:flex;gap:10px;align-items:center;justify-content:center}
  .socials a{width:36px;height:36px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(0,0,0,0.1)}
  .socials a svg{width:18px;height:18px;fill:#000}
  @media(max-width:720px){.footer-inner{flex-direction:column;gap:10px}}

  /* Reveal */
  .reveal{opacity:0;transform:translateY(12px);transition:opacity .5s ease, transform .5s ease}
  .reveal.show{opacity:1;transform:translateY(0)}
  /* Fix: make 'Recent Articles' responsive on mobile */
@media (max-width: 900px) {
  .recent {
    padding-left: 24px;
    padding-right: 24px;
  }
}

@media (max-width: 600px) {
  .recent {
    padding-left: 20px;
    padding-right: 20px;
  }
}
</style>
</head>
<body class="body-offset">

<header>
  <div class="brand">
    <div class="logo">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 12a10 10 0 1 0-11.5 9.9v-7h-2v-2.9h2v-2.2c0-2 1.2-3.1 3-3.1.9 0 1.8.1 2 .1v2.3h-1.1c-1 0-1.3.6-1.3 1.2v1.7h2.6l-.4 2.9h-2.2v7A10 10 0 0 0 22 12z" fill="currentColor"/></svg>
    </div>
    <div class="brand-text"><div class="name">bndlabs</div></div>
  </div>

  <nav class="nav" aria-label="Main">
    <a href="home.html">Home</a>
    <a href="about.html">About</a>
    <a href="portfolio.html">Portfolio</a>
    <a href="blog.html" class="active">Blog</a>
    <a href="contact.html" class="cta">Contact Me</a>
  </nav>

  <button class="menu-toggle" id="menuToggle" aria-label="Menu">☰</button>
</header>

<main>
  <!-- HERO -->
  <section class="hero">
    <div class="container">
      <div class="hero-card reveal">
        <h1 class="post-title" id="post_title">Post title</h1>
        <p class="post-sub" id="post_sub">Post subtitle goes here</p>
      <div class="post-meta">
  <span class="author">
    <img id="author_img" src="" alt="Author">
    <span id="post_author">Author</span>
  </span>
  <span>•</span><span id="post_date">Date</span>
  <span>•</span><span id="post_tag">Category</span>
</div>

      </div>
    </div>
  </section>

  <!-- ARTICLE BODY -->
  <section class="article">
    <div class="container" id="article_body"></div>
  </section>

  <!-- RECENT ARTICLES -->
  <section class="container recent" id="recent_wrap" style="display:none">
    <h3 class="reveal">Recent articles</h3>
    <ul class="recent-list" id="recent_list"></ul>
  </section>
</main>

<footer>
  <div class="footer-inner">
    <div class="footer-left">© 2025 <strong>bndlabs</strong>. Designed & coded by Godadcore.</div>
    <div class="socials">
      <a href="#"><svg viewBox="0 0 24 24"><path d="M22 12a10 10 0 1 0-11.5 9.9v-7h-2v-2.9h2v-2.2c0-2 1.2-3.1 3-3.1.9 0 1.8.1 2 .1v2.3h-1.1c-1 0-1.3.6-1.3 1.2v1.7h2.6l-.4 2.9h-2.2v7A10 10 0 0 0 22 12z"/></svg></a>
      <a href="#"><svg viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 0 1-3.1 1.5 4.4 4.4 0 0 0-7.5 3v1A10.7 10.7 0 0 1 3 4s-4 9 5 13a11.6 11.6 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.1-.8A7.7 7.7 0 0 0 23 3z"/></svg></a>
      <a href="#"><svg viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm1.3 14h-2.6v-6h2.6v6zm0-7.3h-2.6V7h2.6v1.7z"/></svg></a>
    </div>
    <nav class="footer-nav">
      <a href="about.html">About</a>
      <a href="portfolio.html">Portfolio</a>
      <a href="blog.html">Blog</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</footer>

<script>
  // === Menu toggle ===
  const menuToggle = document.getElementById('menuToggle');
  const nav = document.querySelector('.nav');
  menuToggle.addEventListener('click', () => nav.classList.toggle('active'));
  document.addEventListener('click', (e) => {
    if (!nav.contains(e.target) && !menuToggle.contains(e.target)) nav.classList.remove('active');
  });
</script>

<!-- ✅ Firebase SDK (same version as others) -->
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-database-compat.js"></script>

<script>
  // === Firebase Config ===
  const 

  if (!firebase.apps.length) 
  const db = firebase.database();
</script>

<script>
(async function(){
  const params = new URLSearchParams(location.search);
  const id = params.get('id');

  const articleBody = document.getElementById('article_body');
  const recentWrap = document.getElementById('recent_wrap');
  const recentList = document.getElementById('recent_list');

  try {
    // === Fetch blog posts ===
    const blogRes = await fetch('https://bndlabs-backend.onrender.com/api/blogs');
    const blogs = await blogRes.json();

    // === Fetch profile info ===
    const profileRes = await fetch('https://bndlabs-backend.onrender.com/api/profile');
    const profile = await profileRes.json();

    if (!blogs.length) {
      articleBody.innerHTML = `<p style="color:var(--light-faint);text-align:center;">No CMS data found. Please add a blog post in your admin CMS.</p>`;
      return;
    }

    // Find selected post by ID
    const post = blogs.find(p => String(p.id) === String(id)) || blogs[0];

    // === Hero ===
    setText('#post_title', post.title);
    setText('#post_sub', post.subtitle);
    setText('#post_date', post.date);
    setText('#post_tag', post.tag || post.category || '');

    const imgEl = document.getElementById('author_img');
    if (imgEl) imgEl.src = profile.avatar || 'default-avatar.png';
    setText('#post_author', profile.name || 'Admin');

    // === Article Sections ===
    articleBody.innerHTML = '';
    const items = Array.isArray(post.sections) ? post.sections : [];
    if (!items.length) {
      articleBody.innerHTML = `<p style="color:var(--light-faint);text-align:center;">This post has no content yet.</p>`;
    } else {
      items.forEach(s => {
        if (s.type === 'h2')
          articleBody.innerHTML += `<h2 class="reveal">${s.value || ''}</h2>`;
        else if (s.type === 'p')
          articleBody.innerHTML += `<p class="reveal">${s.value || ''}</p>`;
        else if (s.type === 'img')
          articleBody.innerHTML += `
            <div class="illustration reveal">
              <img src="${escapeAttr(s.value || '')}" alt="${escapeAttr(s.alt || '')}">
            </div>`;
        else if (s.type === 'quote')
          articleBody.innerHTML += `
            <blockquote class="reveal" style="border-left:4px solid rgba(0,0,0,.1);margin:14px 0;padding:10px 14px;color:var(--light-muted)">
              ${s.value || ''}
            </blockquote>`;
      });
    }

    // === Recent posts ===
    const recent = blogs.filter(p => String(p.id) !== String(post.id)).slice(0, 4);
    if (recent.length) {
      recentWrap.style.display = 'block';
      recentList.innerHTML = '';
      recent.forEach(p => {
        const li = document.createElement('li');
        li.className = 'reveal';
        li.innerHTML = `<a href="blog-details.html?id=${encodeURIComponent(p.id)}">${escapeHtml(p.title || 'Untitled')}</a>`;
        recentList.appendChild(li);
      });
    }

    // === Reveal Animation ===
    const observer = new IntersectionObserver(entries => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('show');
          observer.unobserve(e.target);
        }
      });
    }, { threshold: 0.12 });

    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

  } catch (err) {
    console.error('⚠️ Blog detail load error:', err);
    articleBody.innerHTML = `<p style="color:var(--light-faint);text-align:center;">Error loading article. Please try again later.</p>`;
  }

  function setText(sel, val){
    const el = document.querySelector(sel);
    if (el) el.textContent = val || '';
  }
  function escapeHtml(s){ return String(s||'').replace(/[&<>]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;'}[c])); }
  function escapeAttr(s){ return String(s||'').replace(/"/g,'&quot;'); }
})();
</script>
<script src="js/data.js"></script>
<script src="js/render.js"></script>
</body>
</html>