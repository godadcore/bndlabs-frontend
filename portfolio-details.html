<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Project Details | bndlabs</title>
<link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg" />
<meta name="theme-color" content="#FF4D00" />
<meta name="description" content="Project details | bndlabs portfolio.">
<meta property="og:type" content="website" />
<meta property="og:title" content="Project Details | bndlabs" />
<meta property="og:description" content="Explore project case studies by bndlabs." />
<meta property="og:image" content="https://bndlabs-frontend.onrender.com/assets/images/logo.svg" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Project Details | bndlabs" />
<meta name="twitter:description" content="Explore project case studies by bndlabs." />
<meta name="twitter:image" content="https://bndlabs-frontend.onrender.com/assets/images/logo.svg" />

<style>
  :root {
    --primary:#FF4D00;
    --primary-2:#FF8C00;
    --text:#0B0B0B;
    --muted:rgba(11,11,11,0.70);
    --faint:rgba(11,11,11,0.55);
    --max-width:1100px;
    --grey-bg:#f7f7f7;
  }

  *{box-sizing:border-box;margin:0;padding:0}
  body{
    font-family:"SF Pro Text",-apple-system,BlinkMacSystemFont,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
    color:var(--text);background:#fff;line-height:1.6;
  }
  a{text-decoration:none;color:inherit}
  img{max-width:100%;display:block;border-radius:18px;box-shadow:0 12px 30px rgba(0,0,0,.06)}

header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  position:fixed;
  top:0;
  left:0;
  right:0;
  z-index:2000;
  background:rgba(0,0,0,0.9);
  backdrop-filter:blur(10px);
  padding:16px 24px;
  border-bottom:1px solid rgba(255,255,255,0.06);
}
.brand {
  display:flex;
  align-items:center;
  gap:10px;
}
.brand-text .name {
  font-weight:700;
  font-size:20px;
  color:#fff;
}
.logo img {
  width:100px;
  max-height:60px;
  object-fit:contain;
  display:block;
}
.nav {
  display:none;
  flex-direction:column;
  align-items:flex-end;
  position:absolute;
  top:64px;
  right:16px;
  width:220px;
  background:rgba(20,20,20,0.92);
  backdrop-filter:blur(10px);
  border-radius:20px;
  padding:12px 10px;
  gap:10px;
  box-shadow:0 10px 30px rgba(0,0,0,.35);
}
.nav.active { display:flex; }
.nav a {
  background:rgba(255,255,255,.08);
  color:#fff;
  padding:12px 0;
  border-radius:999px;
  width:100%;
  text-align:center;
  font-weight:500;
  transition:.2s;
  text-decoration:none;
}
.nav a:hover { background:rgba(255,255,255,.2); }
.nav a.active {
  background:linear-gradient(120deg,#FF4D00,#FF8C00);
  color:#fff;
  font-weight:700;
}
.menu-toggle {
  display:block;
  background:transparent;
  border:0;
  color:#fff;
  font-size:22px;
  cursor:pointer;
}

  .container{max-width:var(--max-width);margin:0 auto;padding:0 36px}
  .pad-top{padding-top:96px}

  /* changed hero padding to 50px top/bottom (you requested 50) */
  .hero{background:#fff;overflow:hidden;padding:25px 0;}
  .hero-inner{display:grid;grid-template-columns:1.1fr .9fr;gap:24px;align-items:center;}
  .hero h1{font-family:"SF Pro Display",-apple-system,BlinkMacSystemFont,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:72px;letter-spacing:-1px;margin-bottom:10px; color var(--primary);}
  .hero p.lead{color:var(--muted);font-size:20px;margin-bottom:18px;max-width:540px;
}
  .meta{display:flex;gap:14px;color:var(--faint);font-size:14px;margin-top:8px}
  .hero-art-wrapper{display:flex;justify-content:flex-end}
  .hero-art{width:600px;max-width:100%;height:auto;object-fit:cover;border-radius:28px;box-shadow:0 18px 60px rgba(0,0,0,.1);}
  .hero-break{width:100%;height:40px;box-shadow:0 4px 12px rgba(0,0,0,0.04);background:#fff;}

  /* blocks (these are the sections that hold each header + content) */
  section.block{padding:90px 0;border-bottom:1px solid rgba(0,0,0,0.05);background:#fff;}
  section.block.grey{background:var(--grey-bg)}
  .block .container { /* ensure container inside block keeps padding */
    padding-left:36px;
    padding-right:36px;
  }
  .block h2{font-size:30px;margin-top:32px;margin-bottom:12px;font-family:"SF Pro Display",-apple-system,BlinkMacSystemFont,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;}
  .block p{color:var(--muted);max-width:820px;margin-top:10px;}
  .block img{margin-bottom:36px;border-radius:20px}
  .two-up{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:32px;}
  .img-scroll{display:flex;overflow-x:auto;gap:18px;margin-bottom:36px;scroll-snap-type:x mandatory;padding-bottom:8px;}
  .img-scroll img{flex:0 0 auto;width:calc(33.333% - 12px);scroll-snap-align:start;transition:transform .25s ease;}
  .img-scroll img:hover{transform:scale(1.02);}
  .img-scroll::-webkit-scrollbar{height:6px;}
  .img-scroll::-webkit-scrollbar-thumb{background:rgba(0,0,0,.2);border-radius:3px;}

  /* list and ol fixes so bullets/numbers stay inside container padding on small screens */
  .block ul, .block ol {
    padding-left: 1.15rem;
    margin-left: 0;
    list-style-position: inside;
    color:var(--muted);
  }
  .block li { margin-bottom:8px; }

  @media(max-width:900px){
    .hero-inner{grid-template-columns:1fr;text-align:center}
    .two-up{grid-template-columns:1fr}
    .img-scroll img{width:80%}
  }

  .more-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:18px;margin-top:26px;}
  .more-item{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:14px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,.06);transition:transform .2s, box-shadow .2s;}
  .more-item:hover{transform:translateY(-3px);box-shadow:0 12px 28px rgba(0,0,0,.09)}
  .more-item img{height:160px;width:100%;object-fit:cover;border-radius:0}
  .more-item .p{padding:12px 14px}
  .more-item .p h3{margin:0 0 4px;font-size:18px}
  .more-item .p small{color:var(--faint)}

  /* FOOTER */
  footer{background:#f6f3ef;color:var(--faint);padding:20px;margin-top:40px;}
  .footer-inner{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;text-align:center;}
  .footer-left{font-size:14px;}
  .footer-nav{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;}
  .footer-nav a{color:var(--faint);font-size:14px;text-transform:capitalize;}
  .socials{display:flex;gap:10px;align-items:center;justify-content:center;}
  .socials a{width:36px;height:36px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(0,0,0,0.1);}
  .socials a svg{width:18px;height:18px;fill:#000;}
  @media(max-width:720px){.footer-inner{flex-direction:column;gap:10px;}}

  /* ======== EXTRA RESPONSIVE FIXES FOR MOBILE & TABLET ======== */
  @media (max-width: 1200px) {
    .hero h1 { font-size: 56px; }
    .hero p.lead { font-size: 18px; }
    .hero-art { width: 480px; }
  }

  @media (max-width: 900px) {
    .hero { padding: 60px 0; }
    .hero-inner { grid-template-columns: 1fr; text-align: center; }
    .hero-art-wrapper { justify-content: center; margin-top: 30px; }
    .hero-art { width: 90%; max-width: 420px; }
    .hero h1 { font-size: 42px; line-height: 1.2; }
    .hero p.lead { font-size: 17px; margin: 0 auto 20px; max-width: 500px; }
    .meta { justify-content: center; }
    section.block { padding: 70px 0; }
    .block h2 { font-size: 26px; }
    .block p { font-size: 15px; line-height: 1.6; }
    .block .container { padding-left: 28px; padding-right: 28px; }
  }

  @media (max-width: 720px) {
    .container { padding: 0 20px; }
    .hero h1 { font-size: 32px; }
    .hero p.lead { font-size: 16px; }
    .hero-art { width: 100%; max-width: 360px; }
    section.block { padding: 60px 0; }
    .block h2 { font-size: 22px; }
    .block p { font-size: 15px; }
    .block .container { padding-left: 20px; padding-right: 20px; }
  }

  @media (max-width: 480px) {
    .hero { padding: 50px 0; }
    .hero h1 { font-size: 26px; }
    .hero p.lead { font-size: 15px; }
    .hero-art { width: 100%; border-radius: 16px; }
    .meta { flex-direction: column; gap: 4px; font-size: 13px; }
    section.block { padding: 50px 0; }
    .block h2 { font-size: 20px; }
    .block p { font-size: 14px; line-height: 1.5; }
    footer { padding: 24px 14px; }
    .footer-inner { flex-direction: column; gap: 10px; }
    .block .container { padding-left: 18px; padding-right: 18px; }
    /* tighten list padding a bit on very small screens */
    .block ul, .block ol { padding-left: .9rem; }
  }

  /* LEFT-ALIGN hero description on mobile screens (added per request) */
@media (max-width: 900px) {
    .hero p.lead { text-align: center; }
}
</style>
</head>

<body>
<header>
  <a href="home.html" class="brand" aria-label="Go to Home">
    <div class="logo">
  <img src="assets/images/logo.svg" alt="bndlabs logo">
</div>
  </a>
  <nav class="nav">
    <a href="home.html">Home</a>
    <a href="about.html">About</a>
    <a class="active" href="portfolio.html">Portfolio</a>
    <a href="blog.html">Blog</a>
    <a href="contact.html">Contact</a>
  </nav>
  <button class="menu-toggle" id="menuToggle">☰</button>
</header>

<main class="pad-top">
  <section class="hero">
    <div class="container hero-inner">
      <div>
        <h1 id="proj_title"></h1>
        <p class="lead" id="proj_desc"></p>
        <div class="meta"><span id="proj_tag"></span><span id="proj_date"></span></div>
      </div>
      <div class="hero-art-wrapper">
        <img class="hero-art" id="proj_image" src="" alt="">
      </div>
    </div>
    <div class="hero-break"></div>
  </section>

  <div id="sections"></div>

  <section class="block">
    <div class="container">
      <h2>More from my portfolio</h2>
      <div class="more-grid" id="moreGrid"></div>
    </div>
  </section>
</main>

<footer>
  <div class="footer-inner">
    <div class="footer-left">© 2025 <strong>bndlabs</strong>. Designed & coded by Godadcore.</div>
    <div class="socials">
      <a href="https://linkedin.com/in/bodundeemmanuel" target="_blank" aria-label="LinkedIn">
        <svg viewBox="0 0 24 24"><path d="M4.98 3.5C3.33 3.5 2 4.83 2 6.48s1.33 2.98 2.98 2.98A2.98 2.98 0 0 0 8 6.48C8 4.83 6.63 3.5 4.98 3.5zM2 21.5h6V9H2v12.5zM9.5 9h5.5v1.7c.8-1.3 2.1-2.2 4.4-2.2 3.2 0 5.6 2.1 5.6 6.6v6.4h-6v-5.7c0-1.4-.5-2.4-1.9-2.4-1.1 0-1.8.7-2.1 1.5-.1.3-.1.7-.1 1.1v5.5h-6V9z"/></svg>
      </a>
      <a href="https://x.com/whoisemmavibe" target="_blank" aria-label="X (Twitter)">
        <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H14.9l-5.196-6.805L3.77 21.75H.46l7.73-8.85L0 2.25h6.422l4.713 6.235L18.244 2.25Zm-1.161 17.52h1.833L7.084 4.126H5.117l11.966 15.644Z"/></svg>
      </a>
      <a href="https://instagram.com/whoisemmavibe_" target="_blank" aria-label="Instagram">
        <svg viewBox="0 0 24 24"><path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm0 2h10c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3zm5 3a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm4.8-.9a1.1 1.1 0 1 1 0-2.2 1.1 1.1 0 0 1 0 2.2z"/></svg>
      </a>
    </div>
    <nav class="footer-nav">
      <a href="about.html">About</a>
      <a href="portfolio.html">Portfolio</a>
      <a href="blog.html">Blog</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</footer>

<script>
document.getElementById('menuToggle').addEventListener('click',()=>{
  document.querySelector('.nav').classList.toggle('active');
});

/*
  Section builder logic:
  - Each "h2" item starts a new section
  - Everything after that (p, img, lists, raw HTML, etc.) is grouped into the same section
  - If there are items before the first h2, they will be placed into an initial section
*/
(async()=>{
  const params = new URLSearchParams(location.search);
  const id = params.get('id');
  const container = document.getElementById('sections');
  const more = document.getElementById('moreGrid');

  try {
    const res = await fetch('https://bndlabs-backend.onrender.com/api/projects');
    const data = await res.json();
    const projects = Array.isArray(data) ? data : Object.values(data || {});
    if (!projects.length) return;

    const project = projects.find(p => String(p.id) === String(id)) || projects[0];

    setText('#proj_title', project.title);
    setText('#proj_desc', project.desc);
    setText('#proj_tag', project.tag);
    setText('#proj_date', project.date);
    setSrc('#proj_image', project.hero);

    const items = Array.isArray(project.sections) ? project.sections : [];

    // if no items, show placeholder
    if (!items.length) {
      container.innerHTML = `
        <section class="block grey">
          <div class="container" style="text-align:center;color:var(--muted)">
            No sections yet.
          </div>
        </section>`;
    } else {
      // builder state
      let currentBlock = null;
      let currentHtml = '';

      function flushBlock() {
        if (!currentBlock) return;
        currentBlock.innerHTML = `<div class="container">${currentHtml}</div>`;
        container.appendChild(currentBlock);
        currentBlock = null;
        currentHtml = '';
      }

      items.forEach(sec => {
        // normalize type to lower-case (just in case)
        const t = (sec.type || '').toString().toLowerCase();

        if (t === 'h2') {
          // starting a new section
          // if we already building one, flush it first
          if (currentBlock) flushBlock();

          currentBlock = document.createElement('section');
          currentBlock.className = 'block';
          currentHtml = `<h2>${sec.value || ''}</h2>`;
          return;
        }

        // if no currentBlock yet (no h2 seen), create an initial block
        if (!currentBlock) {
          currentBlock = document.createElement('section');
          currentBlock.className = 'block';
          currentHtml = '';
        }

        // now append the current item into currentHtml
        if (t === 'p') {
          currentHtml += `<p>${sec.value || ''}</p>`;
        } else if (t === 'img') {
          // allow either direct URL or dataURI
          currentHtml += `<img src="${sec.value || ''}" alt="">`;
        } else if (t === 'raw' || t === 'html' || t === 'div') {
          // if CMS stored a block of HTML (lists, custom markup), insert as-is
          currentHtml += sec.value || '';
        } else {
          // default: append value as raw text/HTML
          currentHtml += sec.value || '';
        }
      });

      // flush last block if any
      flushBlock();
    }

    // render "more" grid
    const others = projects.filter(p => String(p.id) !== String(project.id)).slice(0,6);
    more.innerHTML = others.map(o => `
      <a class="more-item" href="portfolio-details.html?id=${o.id}">
        <img src="${o.hero || ''}" alt="${o.title || ''}">
        <div class="p">
          <h3>${o.title || ''}</h3>
          <small>${o.tag || ''}</small>
        </div>
      </a>
    `).join('');

  } catch (err) {
    console.error(err);
  }

  function setText(sel, val){const el=document.querySelector(sel);if(el)el.textContent=val||'';}
  function setSrc(sel, val){const el=document.querySelector(sel);if(el)el.src=val||'';}
})();
</script>

<script src="js/data.js"></script>
<script src="js/render.js"></script>
<script>
(function(){
  const MARKER = '/*__CLEAN_URLS_INJECTED__*/';
  if (window.__CLEAN_URLS_INJECTED) return;
  window.__CLEAN_URLS_INJECTED = true;

  document.addEventListener("DOMContentLoaded", () => {
    try {
      const links = document.querySelectorAll("a[href]");
      links.forEach(link => {
        let href = link.getAttribute("href");
        if (!href) return;
        if (/^(https?:|\/\/|#|mailto:|javascript:)/i.test(href)) return;
        if (href.match(/\.html?$|\/index\.html?$/i)) {
          const parts = href.split(/(#|\?)/);
          const main = parts[0].replace(/index\.html?$/i, '').replace(/\.html?$/i, '');
          const tail = parts.slice(1).join('');
          let clean = main || '/';
          if (!clean.startsWith('/')) clean = '/' + clean;
          if (tail) clean += tail;
          link.setAttribute('href', clean);
        }
      });
    } catch (err) {
      console.warn('Clean URL script error:', err);
    }
  });
})();
 /*__CLEAN_URLS_INJECTED__*/ 
</script>
<script>
// Wait until the page is fully ready
setTimeout(() => {

    function forceCleanLinks() {
        const links = document.querySelectorAll("a[href]");

        links.forEach(link => {
            let href = link.getAttribute("href");
            if (!href) return;

            // Convert Node.js URL objects / absolute URLs to plain string
            href = String(href);

            // Skip external sites EXCEPT your own domain
            if (/^(https?:\/\/)/i.test(href)) {
                // Allow your own domain
                if (!href.includes("bndlabs-frontend.onrender.com")) return;
            }

            // Remove domain so we can treat it like a relative link
            href = href.replace("https://bndlabs-frontend.onrender.com", "");
            href = href.replace("http://bndlabs-frontend.onrender.com", "");

            // Skip hashes, mailto, js functions
            if (/^(#|mailto:|javascript:)/i.test(href)) return;

            // Only convert .html links
            if (href.match(/\.html?$|\/index\.html?$/i)) {
                const parts = href.split(/(#|\?)/);
                const main = parts[0]
                    .replace(/index\.html?$/i, "")
                    .replace(/\.html?$/i, "");
                const tail = parts.slice(1).join("");

                let clean = main || "/";
                clean = String(clean);

                if (!clean.startsWith("/")) clean = "/" + clean;
                if (tail) clean += tail;

                link.setAttribute("href", clean);
            }
        });
    }

    // Run immediately
    forceCleanLinks();

    // Watch for any DOM changes (menus opening, CMS content loading, etc.)
    const obs = new MutationObserver(forceCleanLinks);
    obs.observe(document.body, { childList: true, subtree: true });

}, 300);
</script>
</body>
</html>
