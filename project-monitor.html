<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Project Details | Bodunde</title>

<style>
:root {
  --primary:#FF4D00;
  --primary-gradient:linear-gradient(120deg,#FF4D00,#FF8C00);
  --light-bg:#fff;
  --gray-bg:#f6f3ef;
  --text:#0B0B0B;
  --muted:rgba(11,11,11,0.6);
  --max-width:1100px;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"SF Pro Text",-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  background:var(--light-bg);color:var(--text);
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
}
header, footer { max-width:var(--max-width); margin:auto; padding:24px; }
header{display:flex;align-items:center;justify-content:space-between;}
.brand-text .name{font-weight:900;font-size:20px;}
.nav a{text-decoration:none;color:var(--text);margin-left:20px;font-weight:500;}
.nav a.active{color:var(--primary);}
footer{text-align:center;color:var(--muted);margin-top:80px;}

.hero{
  max-width:var(--max-width);
  margin:100px auto 40px;
  padding:0 24px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:40px;
  align-items:center;
}
.hero-text h1{font-size:54px;font-weight:900;margin-bottom:10px;}
.hero-text p{color:var(--muted);font-size:17px;margin-bottom:10px;}
.hero-text small{color:var(--muted);}
.hero img{width:100%;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,.08);}

.block{
  padding:80px 24px;
}
.block-inner{
  max-width:var(--max-width);
  margin:auto;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:40px;
  align-items:center;
}
.block.alt{background:var(--gray-bg);}
.block img{
  width:100%;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
}
.block h2{font-size:36px;font-weight:800;margin-bottom:14px;}
.block p{color:var(--muted);font-size:17px;line-height:1.6;}

/* handle single-column images */
.block.single .block-inner{grid-template-columns:1fr;}

/* More from portfolio */
.more{
  max-width:var(--max-width);
  margin:80px auto;
  padding:0 24px;
}
.more h3{text-align:center;font-size:28px;margin-bottom:30px;font-weight:900;}
.more-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:26px;
}
.portfolio-item{
  background:#fff;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 6px 20px rgba(0,0,0,.05);
  transition:transform .25s ease, box-shadow .25s ease;
}
.portfolio-item a{display:block;text-decoration:none;color:inherit;}
.portfolio-item img{width:100%;height:200px;object-fit:cover;}
.portfolio-item h4{font-size:18px;margin:12px 16px 4px;}
.portfolio-item p{font-size:14px;margin:0 16px 14px;color:rgba(11,11,11,.6);}
.portfolio-item:hover{transform:translateY(-6px);box-shadow:0 12px 26px rgba(255,77,0,.25);}
@media(max-width:900px){
  .hero{grid-template-columns:1fr;gap:24px;text-align:center;}
  .block-inner{grid-template-columns:1fr;}
}
</style>
</head>

<body>

<header>
  <div class="brand-text"><div class="name">Bodunde</div></div>
  <nav class="nav">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="portfolio.html" class="active">Portfolio</a>
    <a href="blog.html">Blog</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<section class="hero" id="hero">
  <div class="hero-text">
    <h1 id="projTitle">Loading...</h1>
    <p id="projTag"></p>
    <small id="projDate"></small>
  </div>
  <img id="projHero" src="" alt="Project Image">
</section>

<div id="projectSections"></div>

<section class="more" id="more">
  <h3>More from my portfolio</h3>
  <div class="more-grid" id="moreGrid"></div>
</section>

<footer>
  © 2025 <strong>Bodunde</strong>. Designed & coded with ❤️ in Lagos.
</footer>

<script>
(function(){
  const params = new URLSearchParams(window.location.search);
  const id = params.get('id');
  const data = JSON.parse(localStorage.getItem('cms_projects')||'[]');
  if(!data.length){ document.body.innerHTML = "<p style='text-align:center'>No projects found.</p>"; return; }

  const proj = data.find(p=>p.id===id);
  if(!proj){ document.body.innerHTML = "<p style='text-align:center'>Project not found.</p>"; return; }

  // HERO
  document.getElementById('projTitle').textContent = proj.title || 'Untitled Project';
  document.getElementById('projTag').textContent = proj.tag || '';
  document.getElementById('projDate').textContent = proj.date || '';
  if(proj.hero) document.getElementById('projHero').src = proj.hero;

  const sectionsWrap = document.getElementById('projectSections');
  const sections = proj.sections || [];
  let alt = false;
  let i = 0;
  while(i < sections.length){
    const s = sections[i];
    let html = '';
    if(s.type==='h2' || s.type==='p'){
      // collect next image(s)
      let imgs = [];
      let j = i+1;
      while(j < sections.length && sections[j].type==='img'){
        imgs.push(sections[j]);
        j++;
      }
      html += `<div class="block ${alt?'alt':''}"><div class="block-inner">`;
      html += `<div><h2>${s.type==='h2'?s.value:''}</h2><p>${s.type==='p'?s.value:''}</p></div>`;
      if(imgs.length){
        html += `<div>`;
        imgs.forEach(im=>{
          html += `<img src="${im.value}" alt="${im.alt||''}" style="margin-bottom:16px;">`;
        });
        html += `</div>`;
      }
      html += `</div></div>`;
      i = j;
    } else if(s.type==='img'){
      // single image block
      html += `<div class="block single ${alt?'alt':''}"><div class="block-inner"><img src="${s.value}" alt="${s.alt||''}"></div></div>`;
      i++;
    } else { i++; continue; }

    sectionsWrap.insertAdjacentHTML('beforeend', html);
    alt = !alt;
  }

  // More from portfolio (other 3 projects)
  const moreWrap = document.getElementById('moreGrid');
  const others = data.filter(p=>p.id!==id).slice(0,3);
  others.forEach(p=>{
    const card = document.createElement('div');
    card.className='portfolio-item';
    card.innerHTML=`
      <a href="project-monitor.html?id=${encodeURIComponent(p.id)}">
        <img src="${p.hero||''}" alt="${p.title||'Project'}">
        <h4>${p.title||'Untitled'}</h4>
        <p>${p.tag||''}</p>
      </a>`;
    moreWrap.appendChild(card);
  });
})();
</script>
</body>
</html>
